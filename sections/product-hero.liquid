{% comment %}
  Product Hero Section
  A two-column layout with product information on the left and product gallery on the right
{% endcomment %}



<div class="product-hero" style="
  --section-padding-top: {{ section.settings.padding_top | default: 1 }}rem;
  --section-padding-bottom: {{ section.settings.padding_bottom | default: 1 }}rem;
  --section-padding-top-mobile: {{ section.settings.padding_top | default: 1 | times: 0.7 }}rem;
  --section-padding-bottom-mobile: {{ section.settings.padding_bottom | default: 1 | times: 0.7 }}rem;
  --section-padding-top-small: {{ section.settings.padding_top | default: 1 | times: 0.5 }}rem;
  --section-padding-bottom-small: {{ section.settings.padding_bottom | default: 1 | times: 0.5 }}rem;
">
  <div class="product-hero__container">
    <div class="product-hero__content">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'product_info' %}
            <div class="product-hero__info" {{ block.shopify_attributes }}>
              {% if block.settings.show_rating %}
                <div class="product-hero__rating">
                  <div class="product-hero__stars">
                    {% for i in (1..5) %}
                      <span class="product-hero__star">‚òÖ</span>
                    {% endfor %}
                  </div>
                  <span class="product-hero__rating-text">{{ block.settings.rating_value }}</span>
                  <span class="product-hero__reviews">{{ block.settings.reviews_text }}</span>
                </div>
              {% endif %}

              {% if block.settings.headline != blank %}
                <h1 class="product-hero__headline">{{ block.settings.headline }}</h1>
              {% endif %}

              {% if block.settings.subheadline != blank %}
                <p class="product-hero__subheadline">{{ block.settings.subheadline }}</p>
              {% endif %}

              {% if block.settings.features != blank %}
                <ul class="product-hero__features">
                  {% assign features = block.settings.features | split: ',' %}
                  {% for feature in features %}
                    <li class="product-hero__feature">
                      <span class="product-hero__feature-icon">‚úì</span>
                      {{ feature | strip }}
                    </li>
                  {% endfor %}
                </ul>
              {% endif %}

              {% if block.settings.show_customer_satisfaction %}
                <div class="product-hero__satisfaction">
                  <div class="product-hero__avatars">
                                    {% if block.settings.customer_avatar_1 != blank %}
                {% assign avatar_alt = 'product_hero.customer_photo' | t %}
                {{ block.settings.customer_avatar_1 | image_url: width: 80, height: 80 | image_tag: alt: avatar_alt, class: 'product-hero__avatar', loading: 'lazy' }}
                {% endif %}
                                          {% if block.settings.customer_avatar_2 != blank %}
                        {% assign avatar_alt = 'product_hero.customer_photo' | t %}
                        {{ block.settings.customer_avatar_2 | image_url: width: 80, height: 80 | image_tag: alt: avatar_alt, class: 'product-hero__avatar', loading: 'lazy' }}
                      {% endif %}
                                          {% if block.settings.customer_avatar_3 != blank %}
                        {% assign avatar_alt = 'product_hero.customer_photo' | t %}
                        {{ block.settings.customer_avatar_3 | image_url: width: 80, height: 80 | image_tag: alt: avatar_alt, class: 'product-hero__avatar', loading: 'lazy' }}
                      {% endif %}
                                          {% if block.settings.customer_avatar_4 != blank %}
                        {% assign avatar_alt = 'product_hero.customer_photo' | t %}
                        {{ block.settings.customer_avatar_4 | image_url: width: 80, height: 80 | image_tag: alt: avatar_alt, class: 'product-hero__avatar', loading: 'lazy' }}
                      {% endif %}
                  </div>
                  <span class="product-hero__customers">{{ block.settings.customers_text }}</span>
                  <div class="product-hero__stock">
                    <span class="product-hero__stock-dot"></span>
                    {{ block.settings.stock_text }}
                  </div>
                </div>
              {% endif %}

              {% if block.settings.cta_text != blank and block.settings.cta_link != blank %}
                <a href="{{ block.settings.cta_link }}" class="product-hero__cta">
                  {{ block.settings.cta_text }}
                </a>
              {% endif %}

              {% if block.settings.show_guarantees %}
                <div class="product-hero__guarantees">
                  {% for i in (1..4) %}
                    {% assign guarantee_icon = 'guarantee_icon_' | append: i %}
                    {% assign guarantee_text = 'guarantee_text_' | append: i %}
                    {% if block.settings[guarantee_text] != blank %}
                      <div class="product-hero__guarantee">
                        <div class="product-hero__guarantee-icon">
                          {% if block.settings[guarantee_icon] != blank %}
                            {{ block.settings[guarantee_icon] }}
                          {% else %}
                            <span class="product-hero__guarantee-placeholder"></span>
                          {% endif %}
                        </div>
                        <span class="product-hero__guarantee-text">{{ block.settings[guarantee_text] }}</span>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              {% endif %}
            </div>

          {% when 'product_gallery' %}
            <div class="product-hero__gallery" {{ block.shopify_attributes }}>
              {% assign gallery_images = section.blocks | where: 'type', 'gallery_image' %}
              {% assign total_images = gallery_images.size %}

              <!-- Main Carousel - Following Splide Tutorial -->
              <section id="main-carousel" class="splide" aria-label="Beautiful Gallery" data-animation-type="{{ block.settings.animation_type | default: 'slide' }}">
                <div class="splide__track">
                  <ul class="splide__list">
                    {% for gallery_block in gallery_images %}
                      {% if gallery_block.settings.image != blank %}
                        {% assign alt_text = gallery_block.settings.alt_text | default: gallery_block.settings.image.alt %}
                        <li class="splide__slide" {{ gallery_block.shopify_attributes }}>
                          {{ gallery_block.settings.image | image_url: width: 800, height: 800 | image_tag: alt: alt_text, loading: 'lazy' }}
                        </li>
                      {% endif %}
                    {% endfor %}
                  </ul>
                </div>
              </section>

              <!-- Thumbnail Carousel - Following Splide Tutorial -->
              {% if total_images > 1 and block.settings.show_thumbnails %}
                <section id="thumbnail-carousel" class="splide" aria-label="The carousel with thumbnails. Selecting a thumbnail will change the Beautiful Gallery carousel.">
                  <div class="splide__track">
                    <ul class="splide__list">
                      {% for gallery_block in gallery_images %}
                        {% if gallery_block.settings.image != blank %}
                          {% assign alt_text = gallery_block.settings.alt_text | default: gallery_block.settings.image.alt %}
                          <li class="splide__slide">
                            {{ gallery_block.settings.image | image_url: width: 160, height: 160 | image_tag: alt: alt_text, loading: 'lazy' }}
                          </li>
                        {% endif %}
                      {% endfor %}
                    </ul>
                  </div>
                </section>
              {% endif %}
            </div>
        {% endcase %}
      {% endfor %}
    </div>
  </div>
</div>


{% render 'theme-styles-variables' %}

{% stylesheet %}
.product-hero {
  /* Ensure proper section layout */
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
  padding-top: var(--section-padding-top);
  padding-bottom: var(--section-padding-bottom);
}

.product-hero__container {
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--container-padding);
  width: 100%;
  box-sizing: border-box;
  
  /* Follow Shopify's section grid system */
  position: relative;
  z-index: 1;
}

.product-hero__content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-xl);
  align-items: start;
  min-height: 600px;
  width: 100%;
  box-sizing: border-box;
}

.product-hero__info {
  background: var(--color-bg-primary);
  padding: var(--spacing-md);
}

.product-hero__rating {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-lg);
}

.product-hero__stars {
  display: flex;
  gap: var(--spacing-xs);
}

.product-hero__star {
  color: #ffd700;
  font-size: var(--font-size-lg);
}

.product-hero__rating-text {
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.product-hero__reviews {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

.product-hero__headline {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-tight);
  color: var(--color-text-primary);
  margin: 0 0 var(--spacing-lg) 0;
}

.product-hero__subheadline {
  font-size: var(--font-size-lg);
  color: var(--color-text-secondary);
  margin: 0 0 var(--spacing-lg) 0;
  line-height: var(--line-height-normal);
}

.product-hero__features {
  list-style: none;
  padding: 0;
  margin: 0 0 var(--spacing-lg) 0;
}

.product-hero__feature {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-sm);
  color: var(--color-text-primary);
}

.product-hero__feature-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 1.25rem;
  height: 1.25rem;
  background: var(--color-primary);
  color: var(--color-text-light);
  border-radius: var(--radius-full);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  flex-shrink: 0;
}

.product-hero__satisfaction {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  justify-content: center;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-lg);
}

.product-hero__avatars {
  display: flex;
  gap: var(--spacing-xs);
}

.product-hero__avatar {
  width: 1.5rem;
  height: 1.5rem;
  border-radius: var(--radius-full);
  background: var(--color-primary);
  border: 0.125rem solid var(--color-bg-primary);
  object-fit: cover;
  object-position: center;
}

.product-hero__customers {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

.product-hero__stock {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  color: var(--color-success);
  font-size: var(--font-size-sm);
}

.product-hero__stock-dot {
  width: 0.5rem;
  height: 0.5rem;
  background: var(--color-success);
  border-radius: var(--radius-full);
}

.product-hero__cta {
  display: inline-block;
  background: var(--color-text-primary);
  color: var(--color-text-light);
  padding: var(--spacing-lg) var(--spacing-xl);
  text-decoration: none;
  border-radius: var(--radius-md);
  font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-base);
  margin-bottom: var(--spacing-lg);
  transition: background-color var(--transition-fast);
}

.product-hero__cta:hover {
  background: #333333;
}

.product-hero__guarantees {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--spacing-sm);
}

.product-hero__guarantee {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: var(--spacing-sm);
}

.product-hero__guarantee-icon {
  width: 2rem;
  height: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-base);
}

.product-hero__guarantee-placeholder {
  width: 1rem;
  height: 1rem;
  background: var(--color-text-secondary);
  border-radius: var(--radius-sm);
}

.product-hero__guarantee-text {
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  line-height: var(--line-height-tight);
  text-align: center;
  word-wrap: break-word;
  hyphens: auto;
}

.product-hero__gallery {
  background: var(--color-bg-primary);
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
}

/* Splide Tutorial CSS - Proper Thumbnail Styling */
.splide__slide {
  opacity: 0.6;
}

.splide__slide.is-active {
  opacity: 1;
}

/* Main carousel images */
#main-carousel .splide__slide img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* Ensure thumbnail slides have proper dimensions and centering */
#thumbnail-carousel .splide__slide {
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f5f5f5;
  overflow: hidden;
  width: 5rem;
  height: 5rem;
  flex-shrink: 0;
  border-radius: var(--radius-sm);
}

#thumbnail-carousel {
    padding: 0 var(--spacing-sm);
    margin-top: var(--spacing-sm);
  }
@media screen and (max-width: 768px) {
  #thumbnail-carousel .splide__slide {
    width: 4.5rem;
    height: 4.5rem;
  }
}

@media screen and (max-width: 600px) {
  .product-hero {
    padding-top: var(--section-padding-top-small);
    padding-bottom: var(--section-padding-bottom-small);
  }

  #thumbnail-carousel .splide__slide {
    width: 4rem;
    height: 4rem;
  }
}



.product-hero__image-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--hero-border);
  color: var(--hero-text-secondary);
  font-size: 18px;
}

@media screen and (max-width: 768px) {
  .product-hero {
    overflow-x: hidden;
    width: 100%;
    max-width: 100%;
    padding-top: var(--section-padding-top-mobile);
    padding-bottom: var(--section-padding-bottom-mobile);
  }

  .product-hero__container {
    padding: 0 var(--spacing-sm);
    max-width: 100%;
    width: 100%;
    overflow-x: hidden;
    margin: 0;
  }

  .product-hero__content {
    grid-template-columns: 1fr;
    grid-template-areas: "gallery" "info";
    gap: var(--spacing-lg);
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
  }

  .product-hero__gallery {
    grid-area: gallery;
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
  }

  .product-hero__info {
    grid-area: info;
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
  }

  .product-hero__headline {
    font-size: var(--font-size-xl);
  }

  .product-hero__guarantees {
    grid-template-columns: repeat(2, 1fr);
  }

  #main-carousel .splide__arrow {
    width: 2.25rem;
    height: 2.25rem;
  }
}
{% endstylesheet %}

{{ 'splide.min.css' | asset_url | stylesheet_tag }}
<script src="{{ 'splide.min.js' | asset_url }}" defer></script>

<script>
document.addEventListener( 'DOMContentLoaded', function () {
  // Get animation type from data attribute
  var animationType = document.querySelector('#main-carousel').dataset.animationType || 'slide';
  
  var main = new Splide( '#main-carousel', {
    type      : animationType,
    rewind    : true,
    pagination: false,
    arrows    : true,
    speed     : 400,
    easing    : 'cubic-bezier(0.25, 1, 0.5, 1)',
  } );

  var thumbnails = new Splide( '#thumbnail-carousel', {
    gap         : 20,
    rewind      : false,
    pagination  : false,
    arrows      : false,
    isNavigation: true,
    focus       : 0,
    perPage     : 5,
    perMove     : 5,
    trimSpace   : false,
    width       : '100%',
    height      : '100%',
    snap        : true,
    breakpoints : {
      768: {
        perPage    : 4,
        perMove    : 4,
        gap        : 15,
      },
      600: {
        perPage    : 3,
        perMove    : 3,
        gap        : 10,
      },
    },
  } );

  main.sync( thumbnails );
  main.mount();
  thumbnails.mount();
} );
</script>

{% schema %}
{
  "name": "Product Hero",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 6,
      "step": 0.5,
      "unit": "rem",
                      "label": "{{ 'schema.padding_top' | t }}",
        "default": 1
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 6,
        "step": 0.5,
        "unit": "rem",
        "label": "{{ 'schema.padding_bottom' | t }}",
        "default": 1
    }
  ],
  "blocks": [
    {
      "type": "product_info",
      "name": "Product Information",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "Rating"
        },
        {
          "type": "checkbox",
          "id": "show_rating",
          "label": "{{ 'schema.show_rating' | t }}",
          "default": true
        },
        {
          "type": "text",
          "id": "rating_value",
          "label": "{{ 'schema.rating_value' | t }}",
          "default": "4.7"
        },
        {
          "type": "text",
          "id": "reviews_text",
                  "label": "{{ 'schema.reviews_text' | t }}",
        "default": "1000+ Verified Reviews"
        },
        {
          "type": "header",
          "content": "Content"
        },
        {
          "type": "text",
          "id": "headline",
          "label": "{{ 'schema.headline' | t }}",
          "default": "100% Pure Titanium Cutting Board: No More Microplastics, Bacteria Or Dull Knives"
        },
        {
          "type": "text",
          "id": "subheadline",
                  "label": "{{ 'schema.subheadline' | t }}",
        "default": "Hygienic, Durable, and Perfectly Crafted Titanium Cutting Board"
        },
        {
          "type": "textarea",
          "id": "features",
          "label": "Features (comma separated)",
          "default": "Prevents risk from microplastics, Resists bacteria and odors, Keeps your knives sharp, Eliminates food cross-contamination"
        },
        {
          "type": "header",
          "content": "Customer Satisfaction"
        },
        {
          "type": "checkbox",
          "id": "show_customer_satisfaction",
          "label": "Show customer satisfaction",
          "default": true
        },
        {
          "type": "image_picker",
          "id": "customer_avatar_1",
          "label": "Customer avatar 1"
        },
        {
          "type": "image_picker",
          "id": "customer_avatar_2",
          "label": "Customer avatar 2"
        },
        {
          "type": "image_picker",
          "id": "customer_avatar_3",
          "label": "Customer avatar 3"
        },
        {
          "type": "image_picker",
          "id": "customer_avatar_4",
          "label": "Customer avatar 4"
        },
        {
          "type": "text",
          "id": "customers_text",
          "label": "Customers text",
          "default": "8K+ Happy Customers"
        },
        {
          "type": "text",
          "id": "stock_text",
          "label": "Stock text",
          "default": "In stock and ready to ship"
        },
        {
          "type": "header",
          "content": "Call to Action"
        },
        {
          "type": "text",
          "id": "cta_text",
          "label": "CTA text",
          "default": "GET A -70% DISCOUNT"
        },
        {
          "type": "url",
          "id": "cta_link",
          "label": "CTA link"
        },
        {
          "type": "header",
          "content": "Guarantees"
        },
        {
          "type": "checkbox",
          "id": "show_guarantees",
          "label": "Show guarantees",
          "default": true
        },
        {
          "type": "text",
          "id": "guarantee_icon_1",
          "label": "Guarantee 1 icon",
          "default": "üî∂"
        },
        {
          "type": "text",
          "id": "guarantee_text_1",
          "label": "Guarantee 1 text",
          "default": "PURE TITANIUM"
        },
        {
          "type": "text",
          "id": "guarantee_icon_2",
          "label": "Guarantee 2 icon",
          "default": "‚è≥"
        },
        {
          "type": "text",
          "id": "guarantee_text_2",
          "label": "Guarantee 2 text",
          "default": "LIFETIME DURABILITY"
        },
        {
          "type": "text",
          "id": "guarantee_icon_3",
          "label": "Guarantee 3 icon",
          "default": "üí∞"
        },
        {
          "type": "text",
          "id": "guarantee_text_3",
          "label": "Guarantee 3 text",
          "default": "30-DAY MONEY-BACK GUARANTEE"
        },
        {
          "type": "text",
          "id": "guarantee_icon_4",
          "label": "Guarantee 4 icon",
          "default": "ü¶†"
        },
        {
          "type": "text",
          "id": "guarantee_text_4",
          "label": "Guarantee 4 text",
          "default": "ANTIBACTERIAL AND BPA-FREE"
        }
      ]
    },
    {
      "type": "product_gallery",
      "name": "Product Gallery",
      "limit": 1,
      "settings": [

        {
          "type": "header",
          "content": "Animation"
        },
        {
          "type": "select",
          "id": "animation_type",
          "label": "Animation type",
          "options": [
            {
              "value": "fade",
              "label": "Fade"
            },
            {
              "value": "slide",
              "label": "Slide"
            }
          ],
          "default": "fade"
        },
        {
          "type": "header",
          "content": "Navigation"
        },
        {
          "type": "checkbox",
          "id": "show_navigation",
          "label": "Show navigation arrows",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_thumbnails",
          "label": "Show thumbnail gallery",
          "default": true
        }
      ]
    },
    {
      "type": "gallery_image",
      "name": "üì∏ Gallery Image",
      "settings": [
        {
          "type": "header",
          "content": "Image Settings"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Product image"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Alt text",
          "info": "Describe the image for accessibility (optional - will use image alt text if empty)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product Hero",
      "blocks": [
        {
          "type": "product_info"
        },
        {
          "type": "product_gallery"
        },
        {
          "type": "gallery_image"
        },
        {
          "type": "gallery_image"
        },
        {
          "type": "gallery_image"
        }
      ]
    }
  ]
}
{% endschema %} 